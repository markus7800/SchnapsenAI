<!DOCTYPE html>
<html>
<head>
<style>
.header1 { grid-area: header; }
.opponent2 { grid-area: opponent; }
.playarea3 { grid-area: playarea; }
.player4 { grid-area: player; }
.remainingcard5 { grid-area: remainingcards; }
.footer6 { grid-area: footer; }
.buttons6 { grid-area: buttons; }

.grid-container {
  display: grid;
  grid-template-areas:
    'header header header'
    'opponent opponent remainingcards'
    'playarea playarea remainingcards'
    'player player remainingcards'
    'footer footer buttons';
  gap: 10px;
  padding: 0px;
}


.grid-container > div {
  text-align: center;
  padding: 0px 0;
  font-size: 30px;
}


.card-container {
  display: grid;
  grid-template-columns: auto auto auto auto auto;
  padding: 0px;
}

.handcard-container {
  display: grid;
  grid-template-columns: auto auto auto auto auto auto;
  padding: 0px;
}

.handcard-item, .player-item, .opponent-item, .lastatout-item, .talon-item {
  padding: 5px;
  font-size: 10px;
  text-align: center;
}

.remainingcard-item, .suit-item {
  padding: 2px;
  font-size: 10px;
  text-align: center;
}

img {
  width: 100%;
}

body {
  width: min(140vh,95vw);
}

</style>
</head>
<body>

<div class="grid-container">
  <div class="header1">Header</div>
  <div class="opponent2">
    <div class="handcard-container">
      <div class="handcard-item"><h3>Score:<br>00</h3></div>
      <div class="opponent-item"><img id="opponent_hand_1" src="cards/unkown.png"></div>
      <div class="opponent-item"><img id="opponent_hand_2" src="cards/unkown.png"></div>
      <div class="opponent-item"><img id="opponent_hand_3" src="cards/unkown.png"></div>
      <div class="opponent-item"><img id="opponent_hand_4" src="cards/unkown.png"></div>
      <div class="opponent-item"><img id="opponent_hand_5" src="cards/unkown.png"></div>
    </div>
  </div>
  <div class="playarea3">
    <div class="handcard-container">
      <div class="handcard-item"><h3 style="visibility: hidden;">Score:<br>00</h3></div>
      <div class="handcard-item"><img id="play_area_1" src="cards/unkown.png"></div>
      <div class="handcard-item"><img id="play_area_2" src="cards/unkown.png"></div>
      <div class="handcard-item"><img id="play_area_3" src="cards/nocard.png"></div>
      <div class="lastatout-item"><img onclick="clickCard(this.id)" id="play_area_4" src="cards/unkown.png"></div>
      <div class="talon-item"><img onclick="clickCard(this.id)" id="play_area_5" src="cards/unkown.png"></div>
    </div>
  </div>
  <div class="player4">
    <div class="handcard-container">
      <div class="handcard-item"><h3>Score:<br>00</h3></div>
      <div class="player-item"><img onclick="clickCard(this.id)" id="player_hand_1" src="cards/unkown.png"></div>
      <div class="player-item"><img onclick="clickCard(this.id)" id="player_hand_2" src="cards/unkown.png"></div>
      <div class="player-item"><img onclick="clickCard(this.id)" id="player_hand_3" src="cards/unkown.png"></div>
      <div class="player-item"><img onclick="clickCard(this.id)" id="player_hand_4" src="cards/unkown.png"></div>
      <div class="player-item"><img onclick="clickCard(this.id)" id="player_hand_5" src="cards/unkown.png"></div>
    </div>
  </div>
  <div class="remainingcard5">
    <div class="card-container">
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="clubs_ten" src="cards/clubs_ten.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="clubs_jack" src="cards/clubs_jack.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="clubs_queen" src="cards/clubs_queen.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="clubs_king" src="cards/clubs_king.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="clubs_ace" src="cards/clubs_ace.png"></div>

      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="hearts_ten" src="cards/hearts_ten.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="hearts_jack" src="cards/hearts_jack.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="hearts_queen" src="cards/hearts_queen.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="hearts_king" src="cards/hearts_king.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="hearts_ace" src="cards/hearts_ace.png"></div>

      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="spades_ten" src="cards/spades_ten.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="spades_jack" src="cards/spades_jack.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="spades_queen" src="cards/spades_queen.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="spades_king" src="cards/spades_king.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="spades_ace" src="cards/spades_ace.png"></div>

      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="diamonds_ten" src="cards/diamonds_ten.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="diamonds_jack" src="cards/diamonds_jack.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="diamonds_queen" src="cards/diamonds_queen.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="diamonds_king" src="cards/diamonds_king.png"></div>
      <div class="remainingcard-item"><img onclick="clickCard(this.id)" id="diamonds_ace" src="cards/diamonds_ace.png"></div>

      <div class="suit-item"><img onclick="clickCard(this.id)" id="call_club" src="cards/clubs.png"></div>
      <div class="suit-item"><img onclick="clickCard(this.id)" id="call_hearts" src="cards/hearts.png"></div>
      <div class="suit-item"><img onclick="clickCard(this.id)" id="call_spades" src="cards/spades.png"></div>
      <div class="suit-item"><img onclick="clickCard(this.id)" id="call_diamonds" src="cards/diamonds.png"></div>
      <div class="suit-item"><img onclick="clickCard(this.id)" src="cards/nosuit.png"></div>

    </div>
    <button type="button" name="confirm" onclick="confirm()">Confirm</button>
  </div>
  <div class="footer6">Footer</div>
  <div class="footer7">
    <button type="button" name="yes">Yes</button>
    <button type="button" name="no">No</button>
    <button type="button" name="next">Next</button>
    <button type="button" name="engine">Run Engine</button>
  </div>
</div>

<script type="text/javascript">
  console.log("hello")

  var state = "newgame"

  var player_selection = ""
  var remaining_selection = ""
  var suit_selection = ""
  var lastatout_selected = false
  var talon_selected = false

  function selectCard(id) {
    card_image = document.getElementById(id);
    parentDiv = card_image.parentElement;

    elements = document.getElementsByClassName(parentDiv.className);
    for (var i = 0; i < elements.length; i++) {
      if (!elements[i].contains(card_image)) {
        elements[i].style.backgroundColor = "";
      }
    }
    if (parentDiv.style.backgroundColor != "") {
      // deselect
      switch(parentDiv.className) {
        case "player-item":
          player_selection = ""; break;
        case "remainingcard-item":
          remaining_selection = ""; break;
        case "lastatout-item":
          lastatout_selected = false; break;
        case "talon-item":
          talon_selected = false; break;
        case "suit-item":
          suit_selection = ""; break;
        default:
          console.log("Invalid card class.", parentDiv.className); break;
      }

      parentDiv.style.backgroundColor = ""
    } else {
      // select
      switch(parentDiv.className) {
        case "player-item":
          player_selection = id; break;
        case "remainingcard-item":
          remaining_selection = id; break;
        case "lastatout-item":
          lastatout_selected = true; break;
        case "talon-item":
          talon_selected = true; break;
        case "suit-item":
          suit_selection = id; break;
        default:
          console.log("Invalid card class.", parentDiv.className); break;
      }

      parentDiv.style.backgroundColor = "#00ff00"
    }

    console.log(player_selection, remaining_selection, lastatout_selected, talon_selected, suit_selection)
  }

  function deselectAll() {
    classNames = ["player-item", "remainingcard-item", "lastatout-item", "talon-item", "suit-item"]
    for (const className of classNames) {
      elements = document.getElementsByClassName(className);
      for (var i = 0; i < elements.length; i++) {
        elements[i].style.backgroundColor = "";
      }
    }
  }

  function clickCard(id) {
    console.log("click", id);
    selectCard(id)
  }

  function confirm() {
    console.log("confirm")
    deselectAll()
  }
</script>

</body>
</html>
